<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Spanish Flashcards</title>

<style>
  body {
    margin: 0;
    min-height: 100vh;
    background: #0b0b0b;
    color: #f3f3f3;
    font-family: system-ui, -apple-system, Helvetica, Arial, sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }

  .card {
    width: min(92vw, 900px);
    height: min(55vh, 460px);
    background: #141414;
    border-radius: 28px;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    cursor: pointer;
    box-shadow: 0 20px 50px rgba(0,0,0,0.45);
    padding: 32px;
    box-sizing: border-box;
  }

  .word {
    font-size: clamp(2.4rem, 6vw, 5rem);
    font-weight: 700;
    line-height: 1.15;
  }

  .label {
    margin-top: 12px;
    font-size: 0.95rem;
    opacity: 0.7;
  }

  .controls {
    margin-top: 20px;
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
    justify-content: center;
  }

  button {
    background: #1f1f1f;
    color: #fff;
    border: 1px solid rgba(255,255,255,0.15);
    border-radius: 14px;
    padding: 12px 18px;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
  }

  button:hover { opacity: 0.9; }

  .status {
    margin-top: 14px;
    font-size: 0.9rem;
    opacity: 0.75;
  }
</style>
</head>

<body>

<div class="card" id="card" title="Click to flip">
  <div>
    <div class="word" id="word">Loading…</div>
    <div class="label" id="label"></div>
  </div>
</div>

<div class="controls">
  <button id="prevBtn">← Prev</button>
  <button id="flipBtn">Flip</button>
  <button id="nextBtn">Next →</button>
  <button id="shuffleBtn">Shuffle</button>
  <button id="startBtn">Start: <span id="startSideLabel">EN</span></button>
  <button id="audioBtn">Audio: <span id="audioLabel">ON</span></button>
</div>

<div class="status" id="status"></div>

<script>
/* =========================
   FIRST 100 WORDS (edit here)
   ========================= */
const CARDS = [
  { en:"to realize", es:"darse cuenta" },
  { en:"to seem", es:"parecer" },
  { en:"to mean", es:"significar" },
  { en:"to explain", es:"explicar" },
  { en:"to describe", es:"describir" },
  { en:"to consider", es:"considerar" },
  { en:"to suppose", es:"suponer" },
  { en:"to suggest", es:"sugerir" },
  { en:"to argue", es:"argumentar" },
  { en:"to affect", es:"afectar" },

  { en:"society", es:"la sociedad" },
  { en:"culture", es:"la cultura" },
  { en:"experience", es:"la experiencia" },
  { en:"opinion", es:"la opinión" },
  { en:"point of view", es:"el punto de vista" },
  { en:"change", es:"el cambio" },
  { en:"difference", es:"la diferencia" },
  { en:"cause", es:"la causa" },
  { en:"effect", es:"el efecto" },
  { en:"result", es:"el resultado" },

  { en:"however", es:"sin embargo" },
  { en:"therefore", es:"por lo tanto" },
  { en:"although", es:"aunque" },
  { en:"because of", es:"debido a" },
  { en:"for example", es:"por ejemplo" },
  { en:"in general", es:"en general" },
  { en:"in my opinion", es:"en mi opinión" },
  { en:"on the other hand", es:"por otro lado" },

  { en:"necessary", es:"necesario/a" },
  { en:"possible", es:"posible" },
  { en:"important", es:"importante" },
  { en:"common", es:"común" },
  { en:"different", es:"diferente" },
  { en:"similar", es:"similar" },
  { en:"complex", es:"complejo/a" },
  { en:"simple", es:"simple" },

  { en:"to agree", es:"estar de acuerdo" },
  { en:"to disagree", es:"estar en desacuerdo" },
  { en:"to add", es:"añadir" },
  { en:"to clarify", es:"aclarar" },
  { en:"to conclude", es:"concluir" },
  { en:"to summarize", es:"resumir" },
  { en:"to analyze", es:"analizar" },
  { en:"to compare", es:"comparar" },

  { en:"currently", es:"actualmente" },
  { en:"nowadays", es:"hoy en día" },
  { en:"in the past", es:"en el pasado" },
  { en:"in the future", es:"en el futuro" },
];

/* =========================
   STATE
   ========================= */
let deck = [...CARDS];
let index = 0;
let startSide = "EN";       // "EN" or "ES"
let showingSpanish = false; // current side
let audioOn = true;

/* =========================
   ELEMENTS
   ========================= */
const cardEl = document.getElementById("card");
const wordEl = document.getElementById("word");
const labelEl = document.getElementById("label");
const statusEl = document.getElementById("status");
const startSideLabel = document.getElementById("startSideLabel");
const audioLabel = document.getElementById("audioLabel");

document.getElementById("prevBtn").addEventListener("click", prevCard);
document.getElementById("flipBtn").addEventListener("click", flipCard);
document.getElementById("nextBtn").addEventListener("click", nextCard);
document.getElementById("shuffleBtn").addEventListener("click", shuffleDeck);
document.getElementById("startBtn").addEventListener("click", toggleStart);
document.getElementById("audioBtn").addEventListener("click", toggleAudio);
cardEl.addEventListener("click", flipCard);

document.addEventListener("keydown", (e) => {
  if (e.code === "Space") { e.preventDefault(); flipCard(); }
  if (e.key === "ArrowRight") nextCard();
  if (e.key === "ArrowLeft") prevCard();
});

/* =========================
   AUDIO (works on laptop; Quest may not support)
   ========================= */
function speak(text, lang) {
  if (!audioOn) return;
  if (!("speechSynthesis" in window)) return;
  try {
    window.speechSynthesis.cancel();
    const u = new SpeechSynthesisUtterance(text);
    u.lang = lang;
    u.rate = 0.95;
    window.speechSynthesis.speak(u);
  } catch {}
}

/* =========================
   RENDER
   ========================= */
function render() {
  const c = deck[index];
  const text = showingSpanish ? c.es : c.en;
  const lang = showingSpanish ? "es-ES" : "en-US";

  wordEl.textContent = text;
  labelEl.textContent = showingSpanish ? "Spanish" : "English";
  statusEl.textContent = `Card ${index + 1} / ${deck.length} · Start: ${startSide} · Audio: ${("speechSynthesis" in window) ? (audioOn ? "ON" : "OFF") : "Not supported"}`;

  speak(text, lang);
}

/* =========================
   ACTIONS
   ========================= */
function flipCard() {
  showingSpanish = !showingSpanish;
  render();
}

function nextCard() {
  index = (index + 1) % deck.length;
  showingSpanish = (startSide === "ES");
  render();
}

function prevCard() {
  index = (index - 1 + deck.length) % deck.length;
  showingSpanish = (startSide === "ES");
  render();
}

function shuffleDeck() {
  for (let i = deck.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [deck[i], deck[j]] = [deck[j], deck[i]];
  }
  index = 0;
  showingSpanish = (startSide === "ES");
  render();
}

function toggleStart() {
  startSide = (startSide === "EN") ? "ES" : "EN";
  startSideLabel.textContent = startSide;
  showingSpanish = (startSide === "ES");
  render();
}

function toggleAudio() {
  audioOn = !audioOn;
  audioLabel.textContent = audioOn ? "ON" : "OFF";
  render();
}

/* =========================
   INIT
   ========================= */
startSideLabel.textContent = startSide;
audioLabel.textContent = "ON";
showingSpanish = (startSide === "ES");
render();
</script>

</body>
</html>
